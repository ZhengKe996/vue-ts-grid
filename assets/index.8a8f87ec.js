import{d as b,r as l,K as B,z as O,a as I,c as M,b as r,F as S}from"./index.92e8cd4f.js";import{a as E}from"./audio-auto-play.6a538a5c.js";import{S as F}from"./index.644b044f.js";const m=n=>{const o=document.createElement("div");return o.className=n,o},G=()=>{let n=["cell","cell","cell","cell"];const o=Math.floor(Math.random()*4);return n[o]="cell black",n};const j=["src"],z=b({setup(n){const o=l(F),h=B(),u=l(),d=l(),i=l(0),c=l(6),_=l(!1),f=l(),a=l(),v=()=>{const e=m("row"),t=G();a.value.appendChild(e);for(let s=0;s<4;s++)e.appendChild(m(t[s]));a.value.firstChild==null?a.value.appendChild(e):a.value.insertBefore(e,a.value.firstChild)};function g(){let e=parseInt(window.getComputedStyle(a.value,null).top);c.value+e>0?e=0:e+=c.value,a.value.style.top=e+"px",y(),e==0&&(v(),a.value.style.top="-25vh",k())}function y(){let e=a.value.childNodes;e.length==5&&e[e.length-1].pass!==1&&p();for(let t=0;t<e.length;t++)e[t].pass1==1&&p()}function p(){clearInterval(d.value),_.value=!1,h.push({name:"game-over",params:{state:i.value}})}function k(){a.value.childNodes.length==6&&a.value.removeChild(a.value.lastChild)}const w=()=>{E(u),v(),f.value.onclick=function(e){e=e||event,C(e)},d.value=window.setInterval(g,30)};function C(e){const{className:t,parentNode:s}=e.target;t.indexOf("black")==-1&&t.indexOf("cell")!==-1&&(s.pass1=1),t.indexOf("black")!==-1&&(e.target.className="cell",e.target.parentNode.pass=1,N())}function N(){i.value++,i.value%10==0&&x()}function x(){c.value+=2,c.value==20&&console.log("666")}return O(()=>{w()}),(e,t)=>(I(),M(S,null,[r("div",{id:"main",ref_key:"main",ref:f},[r("div",{id:"con",ref_key:"con",ref:a},null,512)],512),r("audio",{autoplay:!0,loop:!0,id:"audios",ref_key:"audios",ref:u},[r("source",{src:o.value,type:"audio/mp3"},null,8,j)],512)],64))}});var R=z;export{R as default};
